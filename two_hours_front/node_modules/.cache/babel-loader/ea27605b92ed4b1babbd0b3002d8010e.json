{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"NoticeDrawer\",\n  props: {\n    notice: {},\n    value: {},\n    addHits: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      showDrawer: false\n    };\n  },\n  watch: {\n    // 监听一次属性变化\n    // 外部对value进行一次正负值变化，变化时长一般在500ms，使用setTimeout来避免变化太快导致监测失效\n    value: function value() {\n      if (this.value === true) {\n        this.showDrawer = true;\n\n        if (this.addHits === true) {\n          this.addHitsFunction();\n        }\n      }\n    }\n  },\n  methods: {\n    addHitsFunction: function addHitsFunction() {\n      var _this = this;\n\n      setTimeout(function () {\n        if (_this.showDrawer === true) {\n          // 3秒后增加一次浏览\n          _this.$axios.post(\"/Notice/addHits\", _this.notice);\n        }\n      }, 3000);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACAA,sBADA;AAEAC;AACAC,cADA;AAEAC,aAFA;AAGAC;AAAAC;AAAA;AAHA,GAFA;AAOAC,MAPA,kBAOA;AACA;AACAC;AADA;AAGA,GAXA;AAYAC;AACA;AACA;AACAL;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AAVA,GAZA;AAwBAM;AACAC,mBADA,6BACA;AAAA;;AACAC;AACA;AACA;AACA;AACA;AACA,OALA,EAKA,IALA;AAMA;AARA;AAxBA","names":["name","props","notice","value","addHits","default","data","showDrawer","watch","methods","addHitsFunction","setTimeout"],"sourceRoot":"src/components","sources":["NoticeDrawer.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-drawer\r\n                size=\"50%\"\r\n                :visible.sync=\"showDrawer\">\r\n            <div id=\"dBody\">\r\n                <!-- 通知标题-->\r\n                <div class=\"dMedium\" id=\"dNoticeTitle\">{{ notice.title}}</div>\r\n                <!-- 通知详情 -->\r\n                <div class=\"dMedium\" id=\"dNoticeDetails\">\r\n                    <span id=\"dNoticeDetailsCreator\">发布人：{{ notice.username }}</span>\r\n                    <span id=\"dNoticeDetailsHits\">点击量：{{ notice.hits }}</span>\r\n                    <span id=\"dNoticeDetailsDate\">{{ notice.formatDate }}</span>\r\n                </div>\r\n                <!-- 通知内容 -->\r\n                <div class=\"dMedium\" id=\"noticeDrawerContent\">\r\n                    <div v-html=\"notice.content\">{{ notice.content }}</div>\r\n                </div>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"NoticeDrawer\",\r\n        props: {\r\n            notice:{},\r\n            value:{},\r\n            addHits:{default:true}\r\n        },\r\n        data(){\r\n            return{\r\n                showDrawer:false,\r\n            }\r\n        },\r\n        watch:{\r\n            // 监听一次属性变化\r\n            // 外部对value进行一次正负值变化，变化时长一般在500ms，使用setTimeout来避免变化太快导致监测失效\r\n            value: function() {\r\n                if(this.value === true){\r\n                    this.showDrawer = true;\r\n                    if(this.addHits === true){\r\n                        this.addHitsFunction();\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        methods:{\r\n            addHitsFunction(){\r\n                setTimeout(()=>{\r\n                    if(this.showDrawer === true){\r\n                        // 3秒后增加一次浏览\r\n                        this.$axios.post(\"/Notice/addHits\",this.notice);\r\n                    }\r\n                },3000);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /*\r\n    * 公告抽屉\r\n    */\r\n    ::v-deep .el-drawer{\r\n        background: #f4f4f7;\r\n    }\r\n    ::v-deep .el-drawer__body {\r\n        overflow: hidden;\r\n        margin-bottom: 25px;\r\n    }\r\n    /* 上边框 */\r\n    ::v-deep .el-drawer__header {\r\n        margin-bottom: 5px;\r\n    }\r\n    .dMedium{\r\n        font-family: \"微软雅黑\";\r\n        color: #252525;\r\n    }\r\n    #dBody{\r\n        overflow-y: scroll;\r\n        height: 100%;\r\n        margin-left: 36px;\r\n        padding-right: 12px;\r\n    }\r\n    /* 公告标题 */\r\n    #dNoticeTitle{\r\n        /* 居中 */\r\n        text-align: center;\r\n        font-size: 35px;\r\n        width: 90%;\r\n        position: relative;\r\n        left: 5%;\r\n    }\r\n    /* 公告详情 */\r\n    #dNoticeDetails{\r\n        /* 上边距 */\r\n        margin-top: 20px;\r\n        /* 大小和间距 */\r\n        font-size: 18px;\r\n        letter-spacing: 1px;\r\n        /* 暗色调 */\r\n        color: #5c5c5c;\r\n        position: relative;\r\n    }\r\n    #dNoticeDetailsCreator{\r\n        position: relative;\r\n        left: 20%;\r\n    }\r\n    #dNoticeDetailsHits{\r\n        position: relative;\r\n        left: 30%;\r\n    }\r\n    #dNoticeDetailsDate{\r\n        position: relative;\r\n        left: 40%;\r\n    }\r\n    /* 抽屉公告内容 */\r\n    #noticeDrawerContent{\r\n        /* 滚动条 */\r\n        height: 660px;\r\n        margin-top: 28px;\r\n        /* 段落 */\r\n        font-size: 20px;\r\n        letter-spacing: 1px;\r\n        line-height: 1.5;   /* 行高 */\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module"}