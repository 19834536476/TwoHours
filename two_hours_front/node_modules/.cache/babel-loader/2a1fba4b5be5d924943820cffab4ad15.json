{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/**\n * 可以上传视频、搜索视频 √\n * 视频资料以卡片形式展示 √\n * 点击卡片，可以启动视频页 √\n * 视频可以被回复、被点赞、（此处可以借用回复功能） √\n */\nexport default {\n  name: \"StuChapterTab\",\n  data: function data() {\n    return {\n      // 搜索表单数据模型\n      searchTitle: {\n        title: ''\n      },\n      // 章节视频数据\n      chapterData: '',\n      // 图片裁切\n      coverImgFit: 'cover'\n    };\n  },\n  created: function created() {\n    this.openLoading(); // 获取章节数据\n\n    this.getChapterByTitle();\n  },\n  methods: {\n    /* 加载动画 */\n    openLoading: function openLoading() {\n      var loading = this.$loading({\n        lock: true,\n        text: 'Loading',\n        spinner: 'el-icon-loading',\n        background: 'rgba(255,255,255,0.8)'\n      });\n      setTimeout(function () {\n        loading.close();\n      }, 400);\n    },\n    // 条件查询章节视频\n    getChapterByTitle: function getChapterByTitle() {\n      var _this = this;\n\n      this.$axios.post(\"/Chapter/selectChapterByTitle\", this.searchTitle).then(function (res) {\n        if (res.data.flag) {\n          // 刷新数据\n          _this.chapterData = res.data.data;\n          /* this.$message.success(\"操作成功！\")*/\n        } else {\n          _this.$message.error(\"服务故障，请稍后重试！\");\n        }\n      });\n    },\n    // 查询章节\n    searchChapter: function searchChapter(title) {\n      // 执行查询\n      this.getChapterByTitle();\n      /* 清空查询条件 */\n\n      this.searchTitle.title = '';\n    },\n    // 启动视频\n    startChapter: function startChapter(chapterId) {\n      this.$router.push({\n        name: 'StuChapterView',\n        params: {\n          chapterId: chapterId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AAEA;AACAA,uBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC;AACAC;AADA,OAFA;AAKA;AACAC,qBANA;AAOA;AACAC;AARA;AAUA,GAbA;AAcAC,SAdA,qBAcA;AACA,uBADA,CAEA;;AACA;AACA,GAlBA;AAmBAC;AACA;AACAC,eAFA,yBAEA;AACA;AACAC,kBADA;AAEAC,uBAFA;AAGAC,kCAHA;AAIAC;AAJA;AAMAC;AAAAC;AAAA;AACA,KAVA;AAWA;AACAC,qBAZA,+BAYA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA,SAJA,MAIA;AACA;AACA;AACA,OARA;AASA,KAtBA;AAuBA;AACAC,iBAxBA,yBAwBAb,KAxBA,EAwBA;AACA;AACA;AACA;;AACA;AACA,KA7BA;AA8BA;AACAc,gBA/BA,wBA+BAC,SA/BA,EA+BA;AACA;AACAlB,8BADA;AAEAmB;AACAD;AADA;AAFA;AAMA;AAtCA;AAnBA","names":["name","data","searchTitle","title","chapterData","coverImgFit","created","methods","openLoading","lock","text","spinner","background","setTimeout","loading","getChapterByTitle","searchChapter","startChapter","chapterId","params"],"sourceRoot":"src/pages/user/studentComponents","sources":["StuChapterTab.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <!-- 功能菜单 -->\r\n        <el-row style=\"position: relative; height: 90px\">\r\n            <!--搜索表单-->\r\n            <el-col :span=\"8\">\r\n                <el-form :inline=\"true\" :model=\"searchTitle\" id=\"file-form-select\">\r\n                    <el-form-item label=\"搜索内容\">\r\n                        <el-input v-model=\"searchTitle.title\" placeholder=\"标题\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"primary\" @click=\"searchChapter(searchTitle.title)\">查询</el-button>\r\n                    </el-form-item>\r\n                    <el-form-item>\r\n                        <el-button type=\"success\" @click=\"searchChapter('')\">重置</el-button>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </el-col>\r\n        </el-row>\r\n\r\n        <!-- 主空间 -->\r\n        <el-row>\r\n            <el-col :span=\"4\" v-for=\"(item,index) in chapterData\" :key=\"index\" class=\"chapterCards\">\r\n                <el-card :body-style=\"{ padding: '0px' }\">\r\n                    <div @click=\"startChapter(item.chapterId)\" class=\"showChapter\">\r\n                        <!-- 封面 -->\r\n                        <video class=\"chapterCoverImg\" :src=\"item.chapterUrl\"></video>\r\n                        <!-- 标题 -->\r\n                        <div class=\"chapterTitle\">{{ item.title }}</div>\r\n                    </div>\r\n                    <!-- 控制区 -->\r\n                    <el-row class=\"chapterInfo\">\r\n                        <el-col :span=\"5\" :offset=\"1\">\r\n                            <i class=\"chapterViews el-icon-view\"><span style=\"margin-left: 6px\">{{item.views}}</span></i>\r\n                        </el-col>\r\n                        <el-col :span=\"5\">\r\n                            <i class=\"chapterLikes ali-iconzan3\"><span style=\"margin-left: 6px\">{{item.likes}}</span></i>\r\n                        </el-col>\r\n                    </el-row>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    /**\r\n     * 可以上传视频、搜索视频 √\r\n     * 视频资料以卡片形式展示 √\r\n     * 点击卡片，可以启动视频页 √\r\n     * 视频可以被回复、被点赞、（此处可以借用回复功能） √\r\n     */\r\n\r\n    export default {\r\n        name: \"StuChapterTab\",\r\n        data(){\r\n            return{\r\n                // 搜索表单数据模型\r\n                searchTitle:{\r\n                    title:'',\r\n                },\r\n                // 章节视频数据\r\n                chapterData:'',\r\n                // 图片裁切\r\n                coverImgFit:'cover',\r\n            }\r\n        },\r\n        created() {\r\n            this.openLoading();\r\n            // 获取章节数据\r\n            this.getChapterByTitle();\r\n        },\r\n        methods:{\r\n            /* 加载动画 */\r\n            openLoading(){\r\n                let loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(255,255,255,0.8)'\r\n                });\r\n                setTimeout(()=>{loading.close();},400)\r\n            },\r\n            // 条件查询章节视频\r\n            getChapterByTitle(){\r\n                this.$axios.post(\"/Chapter/selectChapterByTitle\",this.searchTitle).then((res)=>{\r\n                    if(res.data.flag){\r\n                        // 刷新数据\r\n                        this.chapterData = res.data.data;\r\n                       /* this.$message.success(\"操作成功！\")*/\r\n                    }else{\r\n                        this.$message.error(\"服务故障，请稍后重试！\")\r\n                    }\r\n                })\r\n            },\r\n            // 查询章节\r\n            searchChapter(title){\r\n                // 执行查询\r\n                this.getChapterByTitle();\r\n                /* 清空查询条件 */\r\n                this.searchTitle.title='';\r\n            },\r\n            // 启动视频\r\n            startChapter(chapterId){\r\n                this.$router.push({\r\n                    name:'StuChapterView',\r\n                    params:{\r\n                        chapterId:chapterId,\r\n                    }\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /* 搜索框 */\r\n    #file-form-select{\r\n        left: 200%;\r\n        margin-top: 20px;\r\n        position: relative;\r\n    }\r\n    /**\r\n     * 卡片区\r\n     */\r\n    /* 用于解决总列值超过24导致的排版混乱 */\r\n    ::v-deep .el-row {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n    }\r\n    /* 鼠标指针 */\r\n    /* 卡片边距-调制参数 */\r\n    .chapterCards{\r\n        margin: 1.6%;\r\n    }\r\n    .showChapter:hover{\r\n        cursor: pointer;\r\n    }\r\n    /* 标题高亮 */\r\n    .showChapter:hover .chapterTitle{\r\n        color: #3a75ff;\r\n    }\r\n    /* 封面大小 */\r\n    .chapterCoverImg{\r\n        width: 100%;\r\n        height: 150px;\r\n        position: relative;\r\n    }\r\n    /* 课程名称 */\r\n    .chapterTitle{\r\n        min-height: 40px;\r\n        line-height: 1.3;\r\n        font-size: 18px;\r\n        font-family: \"等线\";\r\n        font-weight: 600;\r\n        margin: 8px 16px;\r\n    }\r\n    .chapterInfo{\r\n        margin-top: 9px;\r\n        margin-bottom: 9px;\r\n    }\r\n    /* 浏览量 */\r\n    .chapterViews{\r\n        font-size: 16px;\r\n    }\r\n    /* 喜欢量 */\r\n    .chapterLikes{\r\n        font-size: 16px;\r\n    }\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}