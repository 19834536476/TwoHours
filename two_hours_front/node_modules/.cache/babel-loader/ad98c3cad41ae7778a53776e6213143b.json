{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.symbol.iterator.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nvar Control =\n/** @class */\nfunction () {\n  function Control(_a) {\n    var _this = this;\n\n    var lf = _a.lf;\n    this.controlItems = [{\n      key: 'zoom-out',\n      iconClass: 'lf-control-zoomOut',\n      title: '缩小流程图',\n      text: '缩小',\n      onClick: function onClick() {\n        _this.lf.zoom(false);\n      }\n    }, {\n      key: 'zoom-in',\n      iconClass: 'lf-control-zoomIn',\n      title: '放大流程图',\n      text: '放大',\n      onClick: function onClick() {\n        _this.lf.zoom(true);\n      }\n    }, {\n      key: 'reset',\n      iconClass: 'lf-control-fit',\n      title: '恢复流程原有尺寸',\n      text: '适应',\n      onClick: function onClick() {\n        _this.lf.resetZoom();\n      }\n    }, {\n      key: 'undo',\n      iconClass: 'lf-control-undo',\n      title: '回到上一步',\n      text: '上一步',\n      onClick: function onClick() {\n        _this.lf.undo();\n      }\n    }, {\n      key: 'redo',\n      iconClass: 'lf-control-redo',\n      title: '移到下一步',\n      text: '下一步',\n      onClick: function onClick() {\n        _this.lf.redo();\n      }\n    }];\n    this.lf = lf;\n  }\n\n  Control.prototype.render = function (lf, domContainer) {\n    this.destroy();\n    var toolEl = this.getControlTool();\n    this.toolEl = toolEl;\n    domContainer.appendChild(toolEl);\n    this.domContainer = domContainer;\n  };\n\n  Control.prototype.destroy = function () {\n    if (this.domContainer && this.toolEl && this.domContainer.contains(this.toolEl)) {\n      this.domContainer.removeChild(this.toolEl);\n    }\n  };\n\n  Control.prototype.addItem = function (item) {\n    this.controlItems.push(item);\n  };\n\n  Control.prototype.removeItem = function (key) {\n    var index = this.controlItems.findIndex(function (item) {\n      return item.key === key;\n    });\n    return this.controlItems.splice(index, 1)[0];\n  };\n\n  Control.prototype.getControlTool = function () {\n    var _this = this;\n\n    var NORMAL = 'lf-control-item';\n    var DISABLED = 'lf-control-item disabled';\n    var controlTool = document.createElement('div');\n    var controlElements = [];\n    controlTool.className = 'lf-control';\n    this.controlItems.forEach(function (item) {\n      var itemContainer = document.createElement('div');\n      var icon = document.createElement('i');\n      var text = document.createElement('span');\n      itemContainer.className = DISABLED;\n      item.onClick && (itemContainer.onclick = item.onClick.bind(null, _this.lf));\n      item.onMouseEnter && (itemContainer.onmouseenter = item.onMouseEnter.bind(null, _this.lf));\n      item.onMouseLeave && (itemContainer.onmouseleave = item.onMouseLeave.bind(null, _this.lf));\n      icon.className = item.iconClass;\n      text.className = 'lf-control-text';\n      text.title = item.title;\n      text.innerText = item.text;\n      itemContainer.append(icon, text);\n\n      switch (item.text) {\n        case '上一步':\n          _this.lf.on('history:change', function (_a) {\n            var undoAble = _a.data.undoAble;\n            itemContainer.className = undoAble ? NORMAL : DISABLED;\n          });\n\n          break;\n\n        case '下一步':\n          _this.lf.on('history:change', function (_a) {\n            var redoAble = _a.data.redoAble;\n            itemContainer.className = redoAble ? NORMAL : DISABLED;\n          });\n\n          break;\n\n        default:\n          itemContainer.className = NORMAL;\n          break;\n      }\n\n      controlElements.push(itemContainer);\n    });\n    controlTool.append.apply(controlTool, __spread(controlElements));\n    return controlTool;\n  };\n\n  Control.pluginName = 'control';\n  return Control;\n}();\n\nexport default Control;\nexport { Control };","map":{"version":3,"sources":["F:/Desktop/繁星教育/TH资料/two_hours_front/node_modules/@logicflow/extension/es/components/control/index.js"],"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","__spread","arguments","length","concat","Control","_a","_this","lf","controlItems","key","iconClass","title","text","onClick","zoom","resetZoom","undo","redo","prototype","render","domContainer","destroy","toolEl","getControlTool","appendChild","contains","removeChild","addItem","item","removeItem","index","findIndex","splice","NORMAL","DISABLED","controlTool","document","createElement","controlElements","className","forEach","itemContainer","icon","onclick","bind","onMouseEnter","onmouseenter","onMouseLeave","onmouseleave","innerText","append","on","undoAble","data","redoAble","apply","pluginName"],"mappings":"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","sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar Control = /** @class */ (function () {\n    function Control(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.controlItems = [\n            {\n                key: 'zoom-out',\n                iconClass: 'lf-control-zoomOut',\n                title: '缩小流程图',\n                text: '缩小',\n                onClick: function () {\n                    _this.lf.zoom(false);\n                },\n            },\n            {\n                key: 'zoom-in',\n                iconClass: 'lf-control-zoomIn',\n                title: '放大流程图',\n                text: '放大',\n                onClick: function () {\n                    _this.lf.zoom(true);\n                },\n            },\n            {\n                key: 'reset',\n                iconClass: 'lf-control-fit',\n                title: '恢复流程原有尺寸',\n                text: '适应',\n                onClick: function () {\n                    _this.lf.resetZoom();\n                },\n            },\n            {\n                key: 'undo',\n                iconClass: 'lf-control-undo',\n                title: '回到上一步',\n                text: '上一步',\n                onClick: function () {\n                    _this.lf.undo();\n                },\n            },\n            {\n                key: 'redo',\n                iconClass: 'lf-control-redo',\n                title: '移到下一步',\n                text: '下一步',\n                onClick: function () {\n                    _this.lf.redo();\n                },\n            },\n        ];\n        this.lf = lf;\n    }\n    Control.prototype.render = function (lf, domContainer) {\n        this.destroy();\n        var toolEl = this.getControlTool();\n        this.toolEl = toolEl;\n        domContainer.appendChild(toolEl);\n        this.domContainer = domContainer;\n    };\n    Control.prototype.destroy = function () {\n        if (this.domContainer && this.toolEl && this.domContainer.contains(this.toolEl)) {\n            this.domContainer.removeChild(this.toolEl);\n        }\n    };\n    Control.prototype.addItem = function (item) {\n        this.controlItems.push(item);\n    };\n    Control.prototype.removeItem = function (key) {\n        var index = this.controlItems.findIndex(function (item) { return item.key === key; });\n        return this.controlItems.splice(index, 1)[0];\n    };\n    Control.prototype.getControlTool = function () {\n        var _this = this;\n        var NORMAL = 'lf-control-item';\n        var DISABLED = 'lf-control-item disabled';\n        var controlTool = document.createElement('div');\n        var controlElements = [];\n        controlTool.className = 'lf-control';\n        this.controlItems.forEach(function (item) {\n            var itemContainer = document.createElement('div');\n            var icon = document.createElement('i');\n            var text = document.createElement('span');\n            itemContainer.className = DISABLED;\n            item.onClick && (itemContainer.onclick = item.onClick.bind(null, _this.lf));\n            item.onMouseEnter && (itemContainer.onmouseenter = item.onMouseEnter.bind(null, _this.lf));\n            item.onMouseLeave && (itemContainer.onmouseleave = item.onMouseLeave.bind(null, _this.lf));\n            icon.className = item.iconClass;\n            text.className = 'lf-control-text';\n            text.title = item.title;\n            text.innerText = item.text;\n            itemContainer.append(icon, text);\n            switch (item.text) {\n                case '上一步':\n                    _this.lf.on('history:change', function (_a) {\n                        var undoAble = _a.data.undoAble;\n                        itemContainer.className = undoAble ? NORMAL : DISABLED;\n                    });\n                    break;\n                case '下一步':\n                    _this.lf.on('history:change', function (_a) {\n                        var redoAble = _a.data.redoAble;\n                        itemContainer.className = redoAble ? NORMAL : DISABLED;\n                    });\n                    break;\n                default:\n                    itemContainer.className = NORMAL;\n                    break;\n            }\n            controlElements.push(itemContainer);\n        });\n        controlTool.append.apply(controlTool, __spread(controlElements));\n        return controlTool;\n    };\n    Control.pluginName = 'control';\n    return Control;\n}());\nexport default Control;\nexport { Control };\n"]},"metadata":{},"sourceType":"module"}