{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"StuCourseTab\",\n  data: function data() {\n    return {\n      // 课程信息\n      course: {\n        coverImg: ''\n      },\n      courseDescribes: '',\n      // 图像适应\n      coverImgFit: 'cover'\n    };\n  },\n  mounted: function mounted() {\n    this.getCourse();\n  },\n  methods: {\n    // 获取课程信息\n    getCourse: function getCourse() {\n      var _this = this;\n\n      this.$axios.get(\"/CourseView/getCourseInfo\").then(function (res) {\n        if (res.data.flag) {\n          // 保存用户数据\n          _this.course = res.data.data;\n          _this.courseDescribes = _this.course.describes;\n          _this.CoverImageUrl = _this.course.coverImg;\n        } else {\n          // 服务故障\n          _this.$message.error(\"数据拉取失败！\");\n\n          _this.$router.replace({\n            name: 'UserMainPage'\n          });\n        }\n      });\n    },\n    // 退出课程\n    quitCourse: function quitCourse(courseData) {\n      var _this2 = this;\n\n      // 弹框确认\n      this.$confirm('此操作将清除您在课程中全部学习记录并退出课程，是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        var course = {\n          courseId: courseData.courseId\n        }; // 执行删除\n\n        _this2.$axios.post(\"/CourseUser/quitCourse\", course).then(function (resp) {\n          if (resp.data.flag) {\n            // 退出成功，返回UserMainPage\n            _this2.$router.replace({\n              name: 'UserMainPage'\n            });\n          } else {\n            _this2.$message.error('服务故障，请稍后重试！');\n          }\n        });\n      }).catch(function () {\n        // 取消删除\n        _this2.$message.info('操作取消！');\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACAA,sBADA;AAEAC,MAFA,kBAEA;AACA;AACA;AACAC;AACAC;AADA,OAFA;AAKAC,yBALA;AAMA;AACAC;AAPA;AASA,GAZA;AAaAC,SAbA,qBAaA;AACA;AACA,GAfA;AAgBAC;AACA;AACAC,aAFA,uBAEA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SALA,MAKA;AACA;AACA;;AACA;AACAR;AADA;AAGA;AACA,OAbA;AAcA,KAjBA;AAkBA;AACAS,cAnBA,sBAmBAC,UAnBA,EAmBA;AAAA;;AACA;AACA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAIAC,IAJA,CAIA;AACA;AAAAC;AAAA,UADA,CAEA;;AACA;AACA;AACA;AACA;AACAf;AADA;AAGA,WALA,MAKA;AACA;AACA;AACA,SATA;AAUA,OAjBA,EAiBAgB,KAjBA,CAiBA;AACA;AACA;AACA,OApBA;AAqBA;AA1CA;AAhBA","names":["name","data","course","coverImg","courseDescribes","coverImgFit","mounted","methods","getCourse","quitCourse","courseData","confirmButtonText","cancelButtonText","type","then","courseId","catch"],"sourceRoot":"src/pages/user/studentComponents","sources":["StuCourseTab.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-row>\r\n            <!-- 封面 -->\r\n            <el-col :span=\"8\" style=\"position: relative; top: 100px\">\r\n                <!-- 封面 -->\r\n                <div id=\"courseCoverImage\">\r\n                    <el-image :src=\"course.coverImg\" :fit=\"coverImgFit\" id=\"courseCoverImageIn\">\r\n                        <div slot=\"error\" class=\"image-slot\">\r\n                            <i class=\"el-icon-picture-outline courseCoverImgAlt\"></i>\r\n                        </div>\r\n                    </el-image>\r\n                </div>\r\n            </el-col>\r\n            <!-- 标题 -->\r\n            <el-col :span=\"12\" style=\"position: relative; left: 12%\">\r\n                <!-- 标题 -->\r\n                <div id=\"courseName_Manager\">{{ course.courseName }}</div>\r\n                <!-- 创建时间和标签 -->\r\n                <div id=\"courseCreateTimeAndTags_Manager\">\r\n                    <div>\r\n                        <span class=\"courseCreator\">{{ course.username }}</span>\r\n                        <span class=\"courseCreator\">{{ course.formatDateShort }}</span>\r\n                    </div>\r\n                    <span>\r\n                        {{course.isPublicStr}}：\r\n                        <el-tooltip :content=\"course.isPublicBool?'公开课程':'课程已设置私有'\" placement=\"top\">\r\n                            <el-switch disabled v-model=\"course.isPublicBool\"></el-switch>\r\n                        </el-tooltip>\r\n                    </span>\r\n                    <span style=\"margin-left: 20px\">\r\n                        {{course.isStartStr}}：\r\n                         <el-tooltip :content=\"course.isStartBool?'课程已开启':'课程待审核'\" placement=\"top\">\r\n                            <el-switch disabled active-color=\"#13ce66\" v-model=\"course.isStartBool\"></el-switch>\r\n                         </el-tooltip>\r\n                    </span>\r\n                </div>\r\n                <el-divider id=\"infoDivider\"></el-divider>\r\n                <!-- 简介 -->\r\n                <div id=\"courseDescribes_Manager\">\r\n                    <div style=\"margin-top: 20px\">简介：{{ courseDescribes }}</div>\r\n                </div>\r\n                <!-- 退出课程 -->\r\n                <div id=\"quitCourseButton\" @click=\"quitCourse(course)\">退出课程</div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"StuCourseTab\",\r\n        data(){\r\n            return{\r\n                // 课程信息\r\n                course:{\r\n                    coverImg:'',\r\n                },\r\n                courseDescribes: '',\r\n                // 图像适应\r\n                coverImgFit:'cover',\r\n            }\r\n        },\r\n        mounted() {\r\n           this.getCourse();\r\n        },\r\n        methods:{\r\n            // 获取课程信息\r\n            getCourse(){\r\n                this.$axios.get(\"/CourseView/getCourseInfo\").then((res)=>{\r\n                    if(res.data.flag){\r\n                        // 保存用户数据\r\n                        this.course = res.data.data;\r\n                        this.courseDescribes = this.course.describes;\r\n                        this.CoverImageUrl = this.course.coverImg;\r\n                    }else{\r\n                        // 服务故障\r\n                        this.$message.error(\"数据拉取失败！\");\r\n                        this.$router.replace({\r\n                            name:'UserMainPage'\r\n                        })\r\n                    }\r\n                });\r\n            },\r\n            // 退出课程\r\n            quitCourse(courseData){\r\n                // 弹框确认\r\n                this.$confirm('此操作将清除您在课程中全部学习记录并退出课程，是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    let course = {courseId:courseData.courseId};\r\n                    // 执行删除\r\n                    this.$axios.post(\"/CourseUser/quitCourse\",course).then(resp=>{\r\n                        if(resp.data.flag){\r\n                            // 退出成功，返回UserMainPage\r\n                            this.$router.replace({\r\n                                name:'UserMainPage'\r\n                            })\r\n                        }else{\r\n                            this.$message.error('服务故障，请稍后重试！');\r\n                        }\r\n                    })\r\n                }).catch(() => {\r\n                    // 取消删除\r\n                    this.$message.info('操作取消！');\r\n                });\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /**\r\n    * 课程管理区\r\n    */\r\n    /* 封面 */\r\n    ::v-deep #courseCoverImage{\r\n        left: 18%;\r\n        position: relative;\r\n    }\r\n    ::v-deep #courseCoverImageIn{\r\n        height: 300px;\r\n        width: 540px;\r\n        border-radius: 6px; /* 圆角 */\r\n    }\r\n    .courseCoverImgAlt{\r\n        position: absolute;\r\n        left: 45%;\r\n        top: 45%;\r\n        font-size: 1.5em;\r\n    }\r\n\r\n    /* 课程名称 */\r\n    #courseName_Manager{\r\n        /* 定位 */\r\n        position: absolute;\r\n        top: 100px;\r\n        left: 40%;\r\n        /* 字体样式 */\r\n        font-size: 30px;\r\n        font-family: \"等线\";\r\n        font-weight: 600;\r\n        /* 边框大小 */\r\n        margin-left: 10px;\r\n        margin-top: 10px;\r\n        text-align: center;\r\n    }\r\n    /* 创建时间 */\r\n    #courseCreateTimeAndTags_Manager{\r\n        /* 定位 */\r\n        position: absolute;\r\n        left: 38%;\r\n        top: 150px;\r\n        /* 字体样式 */\r\n        font-size: 21px;\r\n        font-family: \"微软雅黑\";\r\n        font-weight: 400;\r\n        color: #8c939d;\r\n        margin-top: 5px;\r\n    }\r\n    .courseCreator{\r\n        text-align: center;\r\n        margin-left:10px;\r\n        margin-bottom: 5px;\r\n    }\r\n    /* 分界线 */\r\n    #infoDivider{\r\n        left: -5%;\r\n        width:110%;\r\n        position: absolute;\r\n        top: 225px;\r\n    }\r\n    /* 简介 */\r\n    #courseDescribes_Manager{\r\n        /* 定位 */\r\n        position: absolute;\r\n        left: 5%;\r\n        top: 230px;\r\n        /* 字体样式 */\r\n        font-size: 25px;\r\n        font-family: \"微软雅黑\";\r\n        font-weight: 400;\r\n        color: #000000;\r\n        /* 形式 */\r\n        text-align: left;\r\n        text-indent: 2em;\r\n    }\r\n    /* 退出课程按钮 */\r\n    #quitCourseButton{\r\n        position: absolute;\r\n        left: 91%;\r\n        top: 600px;\r\n        color: #707070;\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n    }\r\n    #quitCourseButton:hover{\r\n        cursor: pointer;\r\n        color: #252525;\r\n    }\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}